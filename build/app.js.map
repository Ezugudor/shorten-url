{"version":3,"sources":["../app.js"],"names":["dotenv","config","mongoUrl","process","env","MONGO_URL","port","PORT","baseUrl","BASE_URL","app","use","schema","graphiql","req","res","urlID","params","actualURL","redirect","listen","console","log"],"mappings":";;;;;;;;AAAA;;AAGA;;AACA;;AACA;;AACA;;AACA;;AANAA,mBAAOC,MAAP;;AAQA,IAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAR,CAAYC,SAA7B;AACA,IAAMC,IAAI,GAAGH,OAAO,CAACC,GAAR,CAAYG,IAAZ,IAAoB,IAAjC;AACA,IAAMC,OAAO,GAAGL,OAAO,CAACC,GAAR,CAAYK,QAA5B;AACA,4BAAWP,QAAX;AAEA,IAAIQ,GAAG,GAAG,0BAAV;AAEAA,GAAG,CAACC,GAAJ,CACE,WADF,EAEE,iCAAY;AACVC,EAAAA,MAAM,EAAEA,kBADE;AAEVC,EAAAA,QAAQ,EAAE;AAFA,CAAZ,CAFF;AAQAH,GAAG,CAACC,GAAJ,CAAQ,SAAR;AAAA,2FAAmB,iBAAOG,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AACTC,YAAAA,KADS,GACCF,GAAG,CAACG,MADL,CACTD,KADS;AAAA;AAAA,mBAEO,4BAAWA,KAAX,CAFP;;AAAA;AAEXE,YAAAA,SAFW;AAAA,6CAGVH,GAAG,CAACI,QAAJ,CAAaD,SAAb,CAHU;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAnB;;AAAA;AAAA;AAAA;AAAA;AAMAR,GAAG,CAACU,MAAJ,CAAWd,IAAX;AACAe,OAAO,CAACC,GAAR,2CAA+Cd,OAA/C","sourcesContent":["import dotenv from \"dotenv\";\ndotenv.config();\n\nimport express from \"express\";\nimport { graphqlHTTP } from \"express-graphql\";\nimport connection from \"./src/Database/connection\";\nimport schema from \"./src/schema\";\nimport { ResolveUrl } from \"./src/Services/ResolveUrl\";\n\nconst mongoUrl = process.env.MONGO_URL;\nconst port = process.env.PORT || 3002;\nconst baseUrl = process.env.BASE_URL;\nconnection(mongoUrl);\n\nvar app = express();\n\napp.use(\n  \"/graphiql\",\n  graphqlHTTP({\n    schema: schema,\n    graphiql: true,\n  })\n);\n\napp.use(\"/:urlID\", async (req, res) => {\n  const { urlID } = req.params;\n  const actualURL = await ResolveUrl(urlID);\n  return res.redirect(actualURL);\n});\n\napp.listen(port);\nconsole.log(`Running a GraphQL API server at ${baseUrl}/graphql`);\n"],"file":"app.js"}